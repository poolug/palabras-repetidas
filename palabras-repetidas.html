<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Palabras Repetidas</title>
  <meta name="author" content="Paul Uzcategui">
  <style type="text/css">
    .container{
      background-color: rgb(240, 240, 240);
      padding: 5em;
      border-radius: 1em;
    }
  </style>
</head>
<body>
  <div class="container">
    <form>
      <label>Letra:</label>
      <input type="text" id="text_letter" maxlength="1"> 
      <label>Palabra:</label>
      <input type="text" id="text_word" onchange="word_count()"> 
    </form>

    <p id ="texto-entrada">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nisl urna, posuere ut est non, posuere hendrerit massa. Suspendisse potenti. Duis vulputate ex eget turpis efficitur dapibus. Maecenas semper ligula eget dapibus finibus. Nullam dignissim, erat eu scelerisque convallis, lacus nunc interdum massa, non porta mauris ante sed elit. Sed lobortis felis augue, in scelerisque nisl ornare sit amet. Cras quis metus et risus facilisis posuere Praesent at suscipit ipsum. Aliquam erat volutpat. Donec non orci et ex dictum sagittis quis nec justo. Praesent non massa vitae nulla scelerisque condimentum sed eu mauris. Phasellus pharetra quam vel metus rhoncus, sit amet eleifend justo sollicitudin. Praesent facilisis sem vitae vestibulum malesuada. Sed suscipit felis et iaculis tempor. Sed quam leo, dapibus sit amet elit et, dictum suscipi nulla. Phasellus quis ipsum eleifend turpis volutpat blandit. Pellentesque non ullamcorper lectus, sit amet finibus magna. Donec bibendum tincidunt tortor, et rutrum ante finibus ut. In eleifend id magna feugiat finibus. Quisque consequat, justo sed rutrum semper, augue enim commodo lorem, eget consectetur urna ante vel leo. Donec iaculis metus urna, eu convallis lorem commodo eget. Ut vitae fringilla ipsum. Proin non tellus porta, mattis lorem et, elementum lacus. Etiam congue neque sapien, posuere porta turpis rhoncus vitae. Suspendisse eu semper dolor, ac blandit magna. Nam aliquet sem vitae risus tempor, in posuere lectus dictum. Maecenas
    </p>

    <div id="resultados">
      <h1>Resultados</h1>
    </div>

    <script>
      var text_letter = document.getElementById('text_letter');

      text_letter.addEventListener('change', (event) => {
        letter_count(event.target.value);
      });

      function letter_count(letter){
        var p_input = document.querySelector("#texto-entrada");
        var cant = 0;
        str_p_input = p_input.innerHTML;
        for (let i = 0; i < str_p_input.length; i++) {
          if (str_p_input[i] === letter) {
            cant++
          }
        }
        // return cant
        var resultadoLetra = document.querySelector("#resultados");

        while (resultadoLetra.firstChild) {
          resultadoLetra.removeChild(resultadoLetra.firstChild);
        }
        
        // <p><strong>Letra: </strong><span>Cantidad</span></p>
        var nuevoElementoP = document.createElement("p");
        var nuevoElementoStrong = document.createElement("strong");
        var nuevoElementoSpan = document.createElement("span");
        let textoDelElemento = document.createTextNode("Letra: " + letter + " ");
        let textoDelElementoSpan = document.createTextNode("Cantidad: " + cant);

        nuevoElementoP.appendChild(nuevoElementoStrong);
        nuevoElementoStrong.appendChild(textoDelElemento);
        nuevoElementoSpan.appendChild(textoDelElementoSpan);
        nuevoElementoP.appendChild(nuevoElementoSpan);

        resultadoLetra.appendChild(nuevoElementoP);
      }

      function word_count() {
        var word = document.getElementById("text_word").value;
        var p_input = document.querySelector("#texto-entrada");
        var cant = 0;
        str_p_input = p_input.innerHTML;
        array_words = str_p_input.split(" ");
        for (let i = 0; i < array_words.length; i++) {
          if (array_words[i] === word){
            cant++
          }
        }

        var resultadoPalabra = document.querySelector("#resultados");

        while (resultadoPalabra.firstChild) {
          resultadoPalabra.removeChild(resultadoPalabra.firstChild);
        }

        // <p><strong>Palabra: </strong><span>Cantidad</span></p>
        var nuevoElementoP = document.createElement("p");
        var nuevoElementoStrong = document.createElement("strong");
        var nuevoElementoSpan = document.createElement("span");
        let textoDelElemento = document.createTextNode("Palabra: " + word + " ");
        let textoDelElementoSpan = document.createTextNode("Cantidad: " + cant);

        nuevoElementoP.appendChild(nuevoElementoStrong);
        nuevoElementoStrong.appendChild(textoDelElemento);
        nuevoElementoSpan.appendChild(textoDelElementoSpan);
        nuevoElementoP.appendChild(nuevoElementoSpan);

        resultadoPalabra.appendChild(nuevoElementoP);
      }

    </script>
  </div>
</body>
</html>